<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swallow House</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="icon" href="img/12188dd0d1e72bff9df199954604a7ad.jpg" type="image/x-icon">
    <script src="/js/jquery-3.6.1.js"></script>
    <meta http-equiv="cache-control" content="max-age=3600, must-revalidate">
    <meta http-equiv="expires" content="Sat, 01 Jan 2022 00:00:00 GMT">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.4/css/all.css">
    <link href="https://use.fontawesome.com/releases/v5.0.4/css/all.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet" />
    <!-- firebase -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>


    <!-- toast -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

    <style> .Export {
        background-color: rgb(0, 161, 62);
        color:white;
    	border-radius: 5px;
    }</style>
</head>

<body>

    <div class="container">


        <!-- start nav -->
        <div class="navigation">
            <ul>
                <li>
                    <a href="#">
                        <span class="icon"><ion-icon name="logo"></ion-icon></span>
                        <img src="img/18.jpg" alt="" style="width: 80px; height: 80px;margin-left:-70px;">
                        <span class="title">Nhà yến Tây Ninh</span>
                        <img src="img/81.jpg" alt="" style="width: 80px; height: 80px;margin-right:-60px;">
                    </a>
                </li>
                <li>
                    <a href="index.html">
                        <span class="icon"><ion-icon name="home-outline"></ion-icon></span>
                        <span class="title">Trang chủ</span>
                    </a>
                </li>
                <li>
                    <a href="camera.html">
                        <span class="icon"><ion-icon name="alert-circle-outline"></ion-icon></span>
                        <span class="title">Cảnh báo</span>
                    </a>
                </li>
                <li>
                    <a href="history.html">
                        <span class="icon"><ion-icon name="reader-outline"></ion-icon></span>
                        <span class="title">Lịch sử dữ liệu</span>
                    </a>
                </li>
                <!-- <li>
                    <a href="#">
                        <span class="icon"><ion-icon name="desktop-outline"></ion-icon></span>
                        <span class="title">Giám sát thiết bị</span>
                    </a>
                </li> -->
                <!-- <li>
                    <a href="changepassword.html">
                        <span class="icon"><ion-icon name="lock-closed-outline"></ion-icon></span>
                        <span class="title">Đổi mật khẩu</span>
                    </a>
                </li> -->
                <li>
                    <a id="logoutButton">
                        <span class="icon"><ion-icon name="log-out-outline"></ion-icon></span>
                        <span class="title">Đăng xuất</span>
                    </a>
                </li>
                <li>
                    <div class="imgNav">
                        <center><img id="random-image" src="" alt="Random Image"
                                style="height: 246px; width:246px;padding-top: 33px;padding-right: 12px; "></center>
                    </div>
                </li>
            </ul>
        </div>
        <!-- nav end -->
        <script>
            // List of image URLs
            var imageUrls = [
                'img/12188dd0d1e72bff9df199954604a7ad.jpg', 'img/13.jpg', 'img/14.jpg', 'img/15.jpg',
                'img/2.jpg', 'img/7.jpg',
                // Add more image URLs as needed
            ];

            // Function to get a random index from the array
            function getRandomIndex(array) {
                return Math.floor(Math.random() * array.length);
            }

            // Function to update the image source
            function updateImage() {
                var randomImageUrl = imageUrls[getRandomIndex(imageUrls)];
                document.getElementById('random-image').src = randomImageUrl;
            }

            // Initial update
            updateImage();

            // Set interval to update image every 5 seconds (5000 milliseconds)
            setInterval(updateImage, 3331);
        </script>
        <!-- main start -->
        <div class="main">
            <div class="topbar">
                <div class="toggle">
                    <ion-icon name="menu-outline"></ion-icon>
                </div>
                <!-- search start-->
                <!-- <div class="search">
                    <label>
                        <ion-icon name="search-outline"></ion-icon>
                    </label>
                </div> -->
                <!-- search end -->

                <!-- img user start-->
                <div class="user">

                    <div>
                        <input type="checkbox" class="checkbox" id="checkbox">
                        <label for="checkbox" class="checkbox-label">
                            <i class="fas fa-moon"></i>
                            <i class="fas fa-sun"></i>
                            <span class="ball"></span>
                        </label>
                    </div>
                </div>
                <!-- img user end -->
            </div>
            <!-- card data start -->
            <div class="cardBox">
                <div class="card1">
                    <div>
                        <div class="numbers1" id="Light"></div>
                        <div class="cardName1">Ánh Sáng</div>
                    </div>
                    <div class="iconBx1"><ion-icon name="sunny-outline"></ion-icon></div>
                </div>
                <div class="card2">
                    <div>
                        <div class="numbers2" id="Temperature"></div>
                        <div class="cardName2">Nhiệt Độ</div>
                    </div>
                    <div class="iconBx2"><ion-icon name="thermometer-outline"></ion-icon></div>
                </div>
                <div class="card3">
                    <div>
                        <div class="numbers3" id="Humidity"></div>
                        <div class="cardName3">Độ Ẩm</div>
                    </div>
                    <div class="iconBx3"><ion-icon name="water-outline"></ion-icon></div>
                </div>




            </div>


            <!-- card data end -->

            <!-- Chart-->
            <div class="graphBox">

                <div class="box">
                    <h2>Đồ thị nhiệt độ</h2>
                    <canvas id="myChart"></canvas>
                </div>
                <div class="box">
                    <h2>Đồ thị độ ẩm</h2>
                    <canvas id="myChart2"></canvas>
                </div>

            </div>

            <!-- order details list start -->
            <div class="details">
                <div class="recentOrders">
                    <h2>Lịch sử thiết bị</h2>
                    <div class="cardHeaders">
                        <div id="search-box">
                            <input type="text" id="search-input" placeholder="Tìm theo tên thiết bị...">
                            <button onclick="renderEmployees()" style="display: none;">Search</button>
                            <button onclick="exportToExcel()" class="Export">Export File </button>
                        </div>
                        <table id="myTable">
                            <thead>
                                <tr>
                                    <td>Thời gian</td>
                                    <td>Thiết bị</td>
                                    <td>Trạng thái</td>
                                </tr>
                            </thead>
                            <tbody id="employee-list">

                            </tbody>
                        </table>
                        <div id="pagination">
                            <button onclick="prevPage()">Prev</button>
                            <button onclick="nextPage()">Next</button>
                        </div>
                    </div>

                </div>

                <!-- Controller Devecie start-->
                <div class="recentCustomers">
                    <h2>Điều khiển thiết bị</h2>
                    <div class="cardHeaders" style="overflow-y: hidden; height: 400px; top: 0;">
                        <table>
                            <tr>
                                <td>
                                    <div class="wrapper">
                                        <div class="progress">
                                            <div class="toggle-btn1" id="unact1">
                                                <div class="inner-circle">
                                                    <!-- <h5>OFF</h5> -->
                                                </div>
                                            </div>
                                            <div class="toggle-btn1 active" id="act1">
                                                <div class=inner-circle>
                                                    <!-- <h5>ON</h5> -->
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </td>
                                <td>
                                    <h4>Đèn sưởi ấm</h4>
                                </td>
                            </tr>


                            <tr>
                                <td>
                                    <div class="wrapper">
                                        <div class="progress">
                                            <div class="toggle-btn" id="unact">
                                                <div class="inner-circle">
                                                    <!-- <h5>OFF</h5> -->
                                                </div>
                                            </div>
                                            <div class="toggle-btn active" id="act">
                                                <div class=inner-circle>
                                                    <!-- <h5>ON</h5> -->
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </td>
                                <td>
                                    <h4>Đèn chống cú</h4>
                                </td>
                            </tr>
                            <!-- phun sương -->
                            <tr>
                                <td>
                                    <div class="wrapper">
                                        <div class="progress">
                                            <div class="toggle-btn2" id="unact2">
                                                <div class="inner-circle">
                                                    <!-- <h5>OFF</h5> -->
                                                </div>
                                            </div>
                                            <div class="toggle-btn2 active" id="act2">
                                                <div class=inner-circle>
                                                    <!-- <h5>ON</h5> -->
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </td>
                                <td>
                                    <h4>Phun sương</h4>

                                </td>
                            </tr>
                            <!-- quạt -->
                            <tr>
                                <td>
                                    <div class="wrapper">
                                        <div class="progress">
                                            <div class="toggle-btn3" id="unact3">
                                                <div class="inner-circle">
                                                    <!-- <h5>OFF</h5> -->
                                                </div>
                                            </div>
                                            <div class="toggle-btn3 active" id="act3">
                                                <div class=inner-circle>
                                                    <!-- <h5>ON</h5> -->
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </td>
                                <td>
                                    <h4 style="padding-bottom: 20px;">Quạt</h4>
                                </td>
                            </tr>
                            <!-- loa -->
                            <tr>
                                <td>
                                    <div class="wrapper">
                                        <div class="progress">
                                            <div class="toggle-btn4" id="unact4">
                                                <div class="inner-circle">
                                                    <!-- <h5>OFF</h5> -->
                                                </div>
                                            </div>
                                            <div class="toggle-btn4 active" id="act4">
                                                <div class=inner-circle>
                                                    <!-- <h5>ON</h5> -->
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </td>
                                <td>
                                    <h4>Loa</h4>

                                </td>
                            </tr>
                            <!-- auto -->
                            <tr>
                                <td>
                                    <div class="wrapper">
                                        <div class="progress">
                                            <div class="toggle-btn5" id="unact5">
                                                <div class="inner-circle">
                                                    <!-- <h5>OFF</h5> -->
                                                </div>
                                            </div>
                                            <div class="toggle-btn5 active" id="act5">
                                                <div class=inner-circle>
                                                    <!-- <h5>ON</h5> -->
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </td>
                                <td>
                                    <h4>Chế độ auto</h4>
                                </td>
                            </tr>

                        </table>
                    </div>
                </div>
                <!-- Controller Devecie end-->
            </div>
            <!-- order details list end -->






        </div>
        <!-- main end-->
    </div>
    <!--  -->
    <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-auth.js"></script>
    <!--  -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/vn.js"></script>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <!-- <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script> -->
    <script src="./js/firebaseA.js"></script>
    <script src="./js/button.js"></script>
    <script src="./js/home.js"></script>

</body>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyB3vnc3vRZy5PjqMaS5P_-Wk1Onsr0HU_o",
        authDomain: "swallowshouse-45f02.firebaseapp.com",
        projectId: "swallowshouse-45f02",
        storageBucket: "swallowshouse-45f02.appspot.com",
        messagingSenderId: "746428482783",
        appId: "1:746428482783:web:9fc071056d1c940007956a",
        measurementId: "G-2HM0YKJQ58"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
</script>

</html>
